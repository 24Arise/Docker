# åˆ é™¤é•œåƒ

## å•ä¸ªåˆ é™¤

- å‘½ä»¤

> `docker rmi <IMAGE ID>`
>
> å‚æ•°è¯´æ˜
> - `IMAGE ID`ï¼šé•œåƒ ID

- å®ä¾‹

> `docker rmi 68bb99ee5a65`
>
> *ã€Œ æç¤ºï¼š`docker rmi 68bb99ee5a65` åˆ é™¤é•œåƒæ—¶ï¼Œé•œåƒå¯¹åº”å®¹å™¨å¿…é¡»æ˜¯åœæ­¢çŠ¶æ€ï¼Œå¦åˆ™ä¼šæŠ¥ `Error response from daemon: You cannot remove a running container` çš„é”™è¯¯ ã€*

```
ğŸ”¥  î‚° ~/Developer/docker î‚° docker ps -a             
CONTAINER ID   IMAGE         COMMAND                  CREATED        STATUS                      PORTS                                       NAMES
68bb99ee5a65   minio/minio   "/usr/bin/docker-entâ€¦"   6 weeks ago    Up 4 seconds                0.0.0.0:9000->9000/tcp, :::9000->9000/tcp   minio
a633c947ed0a   alpine/git    "git clone https://gâ€¦"   2 months ago   Exited (128) 2 months ago                                               repo
ğŸ”¥  î‚° ~/Developer/docker î‚° docker rmi 68bb99ee5a65              
Error response from daemon: You cannot remove a running container 68bb99ee5a65689c21622d15238735959f31c745ce7682b73da6871824e4f601. Stop the container before attempting removal or force remove
âœ˜ ğŸ”¥  î‚° ~/Developer/docker î‚° 
```

## æ‰¹é‡åˆ é™¤

- å‘½ä»¤

*1ã€è·å–é•œåƒ*

> `docker images | grep <REPOSITORY> | grep -v '2021.12.23' | awk '{print $3}'`
>
> å‚æ•°è¯´æ˜
> - `REPOSITORY`ï¼šé•œåƒå
> - `{print $3}`ï¼šæ‰“å°ç¬¬ä¸‰åˆ—å†…å®¹ã€Œ *Tipsï¼šæˆ‘ä»¬éœ€è·å–è¢«åˆ é™¤é•œåƒçš„IDï¼Œå³ç¬¬ä¸‰åˆ—ï¼Œå› æ­¤ä½¿ç”¨ `$3`* ã€
>
> å‘½ä»¤è¯´æ˜
> - é€šè¿‡ `grep -v '2021.12.23'` è·å–é™¤ `2021.12.23` ä»¥å¤–çš„æ‰€æœ‰ `<REPOSITORY>` é•œåƒï¼Œç„¶åæ‰“å° `IMAGE ID`

*2ã€æ‰¹é‡åˆ é™¤*

> `docker rim $(docker images | grep <REPOSITORY> | grep -v '2021.12.23' | awk '{print $3}')`
>
> å‘½ä»¤è¯´æ˜
> - æ‰¹é‡åˆ é™¤ï¼Œé™¤ `2021.12.23` ä»¥å¤–çš„æ‰€æœ‰ `<REPOSITORY>` é•œåƒ

```bash
 ğŸ”¥ î‚° ~ î‚° docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
minio/minio   latest    9fe6a2a345f5   5 months ago   264MB
mysql         5.7       9f1d21c1025a   5 months ago   448MB
alpine/git    latest    b8f176fa3f0d   7 months ago   25.1MB
hello-world   latest    d1165f221234   9 months ago   13.3kB
```
